{
    "version": "1.0",
    "chapters": [
        {
            "id": "basics",
            "title": "Grundlagen",
            "icon": "üî¢",
            "subchapters": [
                {
                    "id": "hex-prefix",
                    "title": "Hex, Pr√§fix, /64 ‚Äì Warum?",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "IPv6-Adressen bestehen aus 128 Bit, notiert als acht 16-Bit-Gruppen in Hexadezimal. Ein Hex-Zeichen repr√§sentiert exakt 4 Bit ‚Äì ein sogenanntes **Nibble**. Dieses Grundprinzip ist entscheidend f√ºr sauberes Subnetting."
                        },
                        {
                            "type": "example",
                            "label": "Beispiel",
                            "code": "2001:0db8:abcd:0000:0000:0000:0000:0001\n‚îî‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n /16  /32  /48       Interface-ID (/64+)"
                        },
                        {
                            "type": "hint",
                            "content": "Hex = Nibble = 4 Bit. Ein Hex-Zeichen = 4 Bit. Zwei Hex-Zeichen = 1 Byte."
                        }
                    ],
                    "examples": [],
                    "tasks": [
                        {
                            "id": "basics-hex-1",
                            "type": "single-input",
                            "question": "Wie viele Bits hat ein einzelnes Hexadezimalzeichen?",
                            "answer": "4",
                            "hint": "Ein Hex-Zeichen kann 0‚ÄìF (0‚Äì15) kodieren ‚Äì das entspricht 2^4.",
                            "error_messages": {
                                "wrong": "Denke an die Basis: Hex ist Basis 16 = 2^? Bits."
                            }
                        }
                    ],
                    "tools": [
                        "prefix-visualizer"
                    ]
                },
                {
                    "id": "compression",
                    "title": "Adressk√ºrzung (::) verstehen",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Aufeinanderfolgende Gruppen aus lauter Nullen d√ºrfen **einmal** als `::` abgek√ºrzt werden. F√ºhrende Nullen innerhalb einer Gruppe d√ºrfen ebenfalls weggelassen werden."
                        },
                        {
                            "type": "example",
                            "label": "Vollform ‚Üí Kurzform",
                            "code": "2001:0db8:0000:0000:0000:0000:0000:0001\n‚Üí     2001:db8::1"
                        }
                    ],
                    "examples": [],
                    "tasks": [
                        {
                            "id": "basics-compress-1",
                            "type": "single-input",
                            "question": "K√ºrze: fe80:0000:0000:0000:0202:b3ff:fe1e:8329",
                            "answer": "fe80::202:b3ff:fe1e:8329",
                            "hint": "Vier aufeinanderfolgende :0000: k√∂nnen durch :: ersetzt werden.",
                            "error_messages": {
                                "wrong": "Pr√ºfe: Welche aufeinanderfolgenden Null-Gruppen k√∂nnen durch :: ersetzt werden?"
                            }
                        }
                    ],
                    "tools": [
                        "prefix-visualizer"
                    ]
                }
            ]
        },
        {
            "id": "address-types",
            "title": "Adresstypen",
            "icon": "üè∑Ô∏è",
            "subchapters": [
                {
                    "id": "gua",
                    "title": "GUA ‚Äì Global Unicast",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "**Global Unicast Addresses (GUA)** beginnen mit dem Pr√§fix `2000::/3` und sind weltweit eindeutig routbar ‚Äì das IPv6-√Ñquivalent √∂ffentlicher IPv4-Adressen."
                        },
                        {
                            "type": "example",
                            "label": "Typisches GUA",
                            "code": "2001:db8:1234:5678::1/64\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò Pr√§fix\n                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò Interface-ID"
                        }
                    ],
                    "examples": [],
                    "tasks": [],
                    "tools": [
                        "prefix-visualizer"
                    ]
                },
                {
                    "id": "ula",
                    "title": "ULA ‚Äì Unique Local",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "**Unique Local Addresses (ULA)** beginnen mit `fc00::/7` (praktisch immer `fd00::/8`) und sind nicht global routbar ‚Äì √§hnlich wie RFC-1918-Adressen (192.168.x.x)."
                        },
                        {
                            "type": "hint",
                            "content": "ULA beginnt mit fd, GUA mit 2. Einfache Eselsbr√ºcke: 'fd = f√ºr Drin (private)'"
                        }
                    ],
                    "examples": [],
                    "tasks": [],
                    "tools": [
                        "prefix-visualizer"
                    ]
                },
                {
                    "id": "lla",
                    "title": "LLA ‚Äì Link-Local",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "**Link-Local Addresses** beginnen mit `fe80::/10` und sind nur innerhalb eines Netzwerksegments g√ºltig. Sie werden automatisch konfiguriert und sind f√ºr NDP sowie Router Advertisements zwingend notwendig."
                        },
                        {
                            "type": "hint",
                            "content": "Kein ICMPv6 ‚Üí kein NDP ‚Üí kein LLA ‚Üí kein IPv6. ICMPv6 niemals blockieren!"
                        }
                    ],
                    "examples": [],
                    "tasks": [],
                    "tools": [
                        "prefix-visualizer"
                    ]
                }
            ]
        },
        {
            "id": "subnetting",
            "title": "Subnetting",
            "icon": "‚úÇÔ∏è",
            "subchapters": [
                {
                    "id": "prefix-basics",
                    "title": "Pr√§fixe verstehen",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Die Pr√§fixl√§nge (z. B. `/48`) gibt an, wie viele Bits des Netzanteils fest sind. Die restlichen Bits stehen f√ºr Subnetze und Hosts zur Verf√ºgung."
                        },
                        {
                            "type": "example",
                            "label": "Pr√§fix-Hierarchie",
                            "code": "/48  ‚Üí Standort  (von ISP zugewiesen)\n/56  ‚Üí Geb√§ude   (+8 Bits = 256 Bl√∂cke)\n/60  ‚Üí Etage     (+4 Bits =  16 Bl√∂cke)\n/64  ‚Üí VLAN/Subnetz (Interface-ID beginnt)"
                        }
                    ],
                    "examples": [],
                    "tasks": [
                        {
                            "id": "subnetting-prefix-1",
                            "type": "single-input",
                            "question": "Du hast ein /48. Du willst /56-Subnetze. Wie viele bekommst du?",
                            "answer": "256",
                            "hint": "Differenz der Pr√§fixl√§ngen: 56 - 48 = 8 Bits. 2^8 = ?",
                            "error_messages": {
                                "wrong": "Z√§hle die Bits zwischen /48 und /56: Das sind 8 Bit ‚Üí 2^8 Subnetze."
                            }
                        }
                    ],
                    "tools": [
                        "prefix-slicer"
                    ]
                },
                {
                    "id": "nibble-boundaries",
                    "title": "Nibble-Grenzen (Sauberes Design)",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Da ein Hex-Zeichen 4 Bit repr√§sentiert, lassen sich Pr√§fixe auf **Nibble-Grenzen** (Vielfache von 4) am einfachsten ablesen und planen. Pr√§fixe wie /44, /48, /52, /56, /60, /64 sind Nibble-konform."
                        },
                        {
                            "type": "hint",
                            "content": "Nicht-Nibble-Pr√§fixe (z. B. /50) sind g√ºltig, aber schwerer zu lesen. Bevorzuge Vielfache von 4."
                        }
                    ],
                    "examples": [],
                    "tasks": [],
                    "tools": [
                        "prefix-visualizer",
                        "prefix-slicer"
                    ]
                }
            ]
        },
        {
            "id": "practice",
            "title": "Praxis & Planung",
            "icon": "üèóÔ∏è",
            "subchapters": [
                {
                    "id": "vlan-planning",
                    "title": "VLAN- & Standort-Planung",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "In der Praxis erh√§ltst du einen /48-Block vom ISP. Die Aufgabe: diesen Block hierarchisch auf Standorte, Geb√§ude und VLANs zu verteilen."
                        },
                        {
                            "type": "example",
                            "label": "Standardvorgehen",
                            "code": "ISP gibt: 2001:db8:abcd::/48\n  /56 pro Standort  ‚Üí 256 Standorte\n  /60 pro Geb√§ude   ‚Üí 16 Geb√§ude je Standort\n  /64 pro VLAN      ‚Üí 16 VLANs je Geb√§ude"
                        }
                    ],
                    "examples": [],
                    "tasks": [],
                    "tools": [
                        "prefix-slicer",
                        "scenario-generator"
                    ]
                }
            ]
        },
        {
            "id": "troubleshooting",
            "title": "Checks & Fehlerbilder",
            "icon": "üîç",
            "subchapters": [
                {
                    "id": "ra-missing",
                    "title": "RA fehlt ‚Äì keine Default-Route",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Router Advertisements (RA) sind der Mechanismus, √ºber den Clients ihre Default-Route und Pr√§fix-Informationen erhalten. Fehlt das RA, hat der Client keine Route ins Internet."
                        },
                        {
                            "type": "hint",
                            "content": "Symptom: Link-Local funktioniert, aber kein globaler Traffic. Pr√ºfe: ICMPv6 Typ 134 (RA) geblockt?"
                        }
                    ],
                    "examples": [],
                    "tasks": [],
                    "tools": [
                        "ra-demo"
                    ]
                },
                {
                    "id": "icmpv6-blocked",
                    "title": "ICMPv6 geblockt ‚Äì Totale Selbstsabotage",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "ICMPv6 ist bei IPv6 kein optionales Protokoll. NDP, PMTUD, RA ‚Äì alles basiert auf ICMPv6. Ein pauschaler ICMPv6-Block in der Firewall bricht IPv6-Konnektivit√§t vollst√§ndig."
                        }
                    ],
                    "examples": [],
                    "tasks": [],
                    "tools": []
                }
            ]
        }
    ]
}