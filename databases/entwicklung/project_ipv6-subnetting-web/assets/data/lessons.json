{
    "version": "1.1",
    "chapters": [
        {
            "id": "basics",
            "title": "Grundlagen",
            "icon": "üî¢",
            "subchapters": [
                {
                    "id": "hex-prefix",
                    "title": "Hex, Nibble & Pr√§fix",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "IPv6-Adressen bestehen aus **128 Bit**, notiert als acht 16-Bit-Gruppen in Hexadezimal. Ein Hex-Zeichen repr√§sentiert exakt **4 Bit** ‚Äì ein sogenanntes **Nibble**. Dieses Grundprinzip ist entscheidend f√ºr sauberes Subnetting."
                        },
                        {
                            "type": "example",
                            "label": "Adress-Aufbau",
                            "code": "2001:0db8:abcd:0000:0000:0000:0000:0001\n‚îî‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n /16  /32  /48       Interface-ID (/64+)"
                        },
                        {
                            "type": "hint",
                            "content": "**Merksatz:** 1 Hex = 1 Nibble = 4 Bit. 4 Hex = 1 Gruppe = 16 Bit. 32 Hex = 1 Adresse = 128 Bit."
                        }
                    ],
                    "tasks": [
                        {
                            "id": "basics-hex-1",
                            "type": "single-input",
                            "validator": "number",
                            "question": "Wie viele Bits hat ein einzelnes Hexadezimalzeichen (Nibble)?",
                            "answer": "4",
                            "success_message": "‚úÖ Exakt! 1 Hex = 4 Bit = 1 Nibble.",
                            "hint": "Hex ist Basis 16 = 2^? Bits.",
                            "error_rules": [
                                {
                                    "type": "equals",
                                    "value": "16",
                                    "message": "16 ist Basis von Hex ‚Äì aber jedes Zeichen kodiert log‚ÇÇ(16) = 4 Bit."
                                },
                                {
                                    "type": "equals",
                                    "value": "8",
                                    "message": "8 Bit = 1 Byte = 2 Nibbles. Ein Nibble = 4 Bit."
                                }
                            ]
                        },
                        {
                            "id": "basics-hex-2",
                            "type": "single-input",
                            "validator": "number",
                            "question": "Eine IPv6-Adresse hat 8 Gruppen √† 16 Bit. Wie viele Bit insgesamt?",
                            "answer": "128",
                            "hint": "8 √ó 16 = ?",
                            "error_rules": [
                                {
                                    "type": "equals",
                                    "value": "64",
                                    "message": "64 ist die Pr√§fixl√§nge eines typischen Subnetzes ‚Äì die Adresse hat 128 Bit."
                                }
                            ]
                        },
                        {
                            "id": "basics-hex-3",
                            "type": "multiple-choice",
                            "question": "Was bedeutet /48 in der CIDR-Notation?",
                            "success_message": "‚úÖ Genau! Die ersten 48 Bits sind der Netzanteil.",
                            "options": [
                                {
                                    "id": "a",
                                    "text": "Die Adresse hat 48 Bit L√§nge.",
                                    "correct": false,
                                    "wrong_message": "IPv6-Adressen sind immer 128 Bit ‚Äì /48 ist die Pr√§fixl√§nge, nicht die Adressl√§nge."
                                },
                                {
                                    "id": "b",
                                    "text": "Die ersten 48 Bits sind der Netzanteil (Pr√§fix).",
                                    "correct": true
                                },
                                {
                                    "id": "c",
                                    "text": "Es gibt 48 m√∂gliche Subnetze.",
                                    "correct": false,
                                    "wrong_message": "Die Zahl nach / ist die L√§nge des Netzanteils in Bit, nicht die Anzahl der Subnetze."
                                },
                                {
                                    "id": "d",
                                    "text": "Die Adresse geh√∂rt zu IPv4.",
                                    "correct": false,
                                    "wrong_message": "IPv4-Adressen haben maximal /32. Bei IPv6 geht es bis /128."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "prefix-calculator",
                        "prefix-visualizer"
                    ]
                },
                {
                    "id": "compression",
                    "title": "Adressk√ºrzung verstehen",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Aufeinanderfolgende Gruppen aus lauter Nullen d√ºrfen **einmal** als `::` abgek√ºrzt werden. F√ºhrende Nullen innerhalb einer Gruppe d√ºrfen ebenfalls weggelassen werden."
                        },
                        {
                            "type": "example",
                            "label": "Vollform ‚Üí Kurzform",
                            "code": "2001:0db8:0000:0000:0000:0000:0000:0001\n‚Üí     2001:db8::1\n\nfe80:0000:0000:0000:0202:b3ff:fe1e:8329\n‚Üí     fe80::202:b3ff:fe1e:8329"
                        },
                        {
                            "type": "hint",
                            "content": "Der `::` darf **nur einmal** pro Adresse vorkommen. Sonst ist die Adresse nicht eindeutig rekonstruierbar."
                        }
                    ],
                    "tasks": [
                        {
                            "id": "basics-compress-1",
                            "type": "single-input",
                            "validator": "prefix",
                            "question": "K√ºrze diese Adresse maximal: 2001:0db8:0000:0000:0000:0000:0000:0001",
                            "answer": "2001:db8::1",
                            "hint": "Vier aufeinanderfolgende :0000:-Gruppen k√∂nnen durch :: ersetzt werden.",
                            "error_rules": [
                                {
                                    "type": "contains",
                                    "value": "0000",
                                    "message": "F√ºhrende Nullen in Gruppen k√∂nnen weggelassen werden (0000 ‚Üí 0)."
                                },
                                {
                                    "type": "contains",
                                    "value": ":0:0:0:0",
                                    "message": "Mehrere aufeinanderfolgende Null-Gruppen k√∂nnen durch :: ersetzt werden."
                                }
                            ]
                        },
                        {
                            "id": "basics-compress-2",
                            "type": "single-input",
                            "validator": "prefix",
                            "question": "K√ºrze: fe80:0000:0000:0000:0202:b3ff:fe1e:8329",
                            "answer": "fe80::202:b3ff:fe1e:8329",
                            "hint": "Die ersten 4 Gruppen nach fe80 sind :0000: ‚Äì diese k√∂nnen durch :: ersetzt werden.",
                            "error_messages": {
                                "wrong": "Pr√ºfe: Welche aufeinanderfolgenden Null-Gruppen k√∂nnen durch :: ersetzt werden?"
                            }
                        },
                        {
                            "id": "basics-compress-3",
                            "type": "multiple-choice",
                            "question": "Welche dieser Kurzformen ist KORREKT f√ºr 2001:0db8:0000:0001:0000:0000:0000:0001?",
                            "options": [
                                {
                                    "id": "a",
                                    "text": "2001:db8::1:1",
                                    "correct": false,
                                    "wrong_message": "Diese Form vernichtet zu viele Gruppen ‚Äì die :0001: nach /32 w√ºrde fehlen."
                                },
                                {
                                    "id": "b",
                                    "text": "2001:db8:0:1::1",
                                    "correct": true
                                },
                                {
                                    "id": "c",
                                    "text": "2001:db8::0:1::1",
                                    "correct": false,
                                    "wrong_message": ":: darf nur einmal vorkommen."
                                },
                                {
                                    "id": "d",
                                    "text": "2001:db8:0000:1::1",
                                    "correct": false,
                                    "wrong_message": "Korrekt, aber 0000 kann zu 0 gek√ºrzt werden ‚Äì also nicht maximal komprimiert."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "prefix-visualizer"
                    ]
                }
            ]
        },
        {
            "id": "address-types",
            "title": "Adresstypen",
            "icon": "üè∑Ô∏è",
            "subchapters": [
                {
                    "id": "gua",
                    "title": "GUA ‚Äì Global Unicast",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "**Global Unicast Addresses (GUA)** beginnen mit dem Pr√§fix `2000::/3` und sind weltweit eindeutig routbar ‚Äì das IPv6-√Ñquivalent √∂ffentlicher IPv4-Adressen."
                        },
                        {
                            "type": "example",
                            "label": "Typisches GUA",
                            "code": "2001:db8:1234:5678::1/64\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò Pr√§fix (/64)\n                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò Interface-ID"
                        }
                    ],
                    "tasks": [
                        {
                            "id": "at-gua-1",
                            "type": "multiple-choice",
                            "question": "Mit welchem Hex-Zeichen beginnen Global Unicast Addresses (GUA)?",
                            "success_message": "‚úÖ Richtig! GUA beginnen mit 2 oder 3 (= Pr√§fix 2000::/3).",
                            "options": [
                                {
                                    "id": "a",
                                    "text": "fe80 (Link-Local)",
                                    "correct": false,
                                    "wrong_message": "fe80::/10 ist der Bereich f√ºr Link-Local-Adressen."
                                },
                                {
                                    "id": "b",
                                    "text": "2 oder 3 (Global Unicast)",
                                    "correct": true
                                },
                                {
                                    "id": "c",
                                    "text": "fd (ULA)",
                                    "correct": false,
                                    "wrong_message": "fd::/8 ist der Bereich f√ºr Unique Local Addresses."
                                },
                                {
                                    "id": "d",
                                    "text": "ff (Multicast)",
                                    "correct": false,
                                    "wrong_message": "ff00::/8 ist der Bereich f√ºr Multicast-Adressen."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "prefix-visualizer"
                    ]
                },
                {
                    "id": "ula",
                    "title": "ULA ‚Äì Unique Local",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "**Unique Local Addresses (ULA)** beginnen mit `fc00::/7` (praktisch immer `fd00::/8`) und sind **nicht global routbar** ‚Äì √§hnlich wie RFC-1918 (10.x, 192.168.x)."
                        },
                        {
                            "type": "hint",
                            "content": "**Eselsbr√ºcke:** GUA = Global (2/3), ULA = Ums (fD = f√ºr Drin), LLA = Link (fE80)"
                        }
                    ],
                    "tasks": [
                        {
                            "id": "at-ula-1",
                            "type": "single-input",
                            "validator": "exact",
                            "question": "ULA-Adressen beginnen mit welchem Byte? (Hex, 2 Zeichen)",
                            "answer": "fd",
                            "hint": "fc00::/7 wird praktisch immer als fd.../8 genutzt.",
                            "error_rules": [
                                {
                                    "type": "equals",
                                    "value": "fc",
                                    "message": "fc ist technisch korrekt (/7), aber in der Praxis wird immer fd verwendet (/8)."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "prefix-visualizer"
                    ]
                },
                {
                    "id": "lla",
                    "title": "LLA ‚Äì Link-Local",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "**Link-Local Addresses** beginnen mit `fe80::/10` und sind **nur innerhalb eines Netzwerksegments** g√ºltig. Sie werden automatisch konfiguriert und sind f√ºr NDP und Router Advertisements zwingend notwendig."
                        },
                        {
                            "type": "hint",
                            "content": "**Achtung:** ICMPv6 niemals pauschal blockieren! NDP und RA basieren darauf ‚Äì ohne ICMPv6 kein IPv6."
                        }
                    ],
                    "tasks": [
                        {
                            "id": "at-lla-1",
                            "type": "multiple-choice",
                            "question": "Wozu werden Link-Local-Adressen (fe80::/10) verwendet?",
                            "success_message": "‚úÖ Genau! LLA sind die Basis f√ºr NDP und Router Advertisements.",
                            "options": [
                                {
                                    "id": "a",
                                    "text": "F√ºr globale Kommunikation im Internet",
                                    "correct": false,
                                    "wrong_message": "LLA sind nicht routbar ‚Äì sie funktionieren nur im selben Segment."
                                },
                                {
                                    "id": "b",
                                    "text": "Als Quelle f√ºr NDP, RA/RS und Router-Kommunikation",
                                    "correct": true
                                },
                                {
                                    "id": "c",
                                    "text": "Als Ersatz f√ºr NAT",
                                    "correct": false,
                                    "wrong_message": "IPv6 wurde entworfen, um NAT √ºberfl√ºssig zu machen ‚Äì LLA haben damit nichts zu tun."
                                },
                                {
                                    "id": "d",
                                    "text": "Nur auf Loopback-Interfaces",
                                    "correct": false,
                                    "wrong_message": "Loopback ist ::1/128. LLA gibt es auf allen IPv6-f√§higen Interfaces."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "prefix-visualizer"
                    ]
                }
            ]
        },
        {
            "id": "subnetting",
            "title": "Subnetting",
            "icon": "‚úÇÔ∏è",
            "subchapters": [
                {
                    "id": "prefix-basics",
                    "title": "Pr√§fixe verstehen",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Die Pr√§fixl√§nge (z. B. `/48`) gibt an, wie viele Bits des Netzanteils fest sind. Die restlichen Bits stehen f√ºr Subnetze und Hosts zur Verf√ºgung. **Formel: 2^(neue L√§nge ‚àí alte L√§nge) = Anzahl Subnetze.**"
                        },
                        {
                            "type": "example",
                            "label": "Pr√§fix-Hierarchie",
                            "code": "/48  ‚Üí Standort  (vom ISP zugewiesen)\n/56  ‚Üí Geb√§ude   (+8 Bit = 256 Bl√∂cke)\n/60  ‚Üí Etage     (+4 Bit =  16 Bl√∂cke)\n/64  ‚Üí VLAN      (immer Endpunkt-Subnetz)"
                        },
                        {
                            "type": "hint",
                            "content": "Merke: `/64` ist fast immer die unterste Ebene ‚Äì Interface-IDs brauchen genau 64 Bit f√ºr SLAAC."
                        }
                    ],
                    "tasks": [
                        {
                            "id": "sub-prefix-1",
                            "type": "single-input",
                            "validator": "number",
                            "question": "Du hast ein /48. Du willst /56-Subnetze. Wie viele bekommst du?",
                            "answer": "256",
                            "hint": "56 ‚àí 48 = 8 zus√§tzliche Bits. 2^8 = ?",
                            "success_message": "‚úÖ Richtig! 2^8 = 256 /56-Subnetze in einem /48.",
                            "error_rules": [
                                {
                                    "type": "equals",
                                    "value": "8",
                                    "message": "8 sind die zus√§tzlichen Bits, nicht die Anzahl. 2^8 = 256."
                                },
                                {
                                    "type": "equals",
                                    "value": "128",
                                    "message": "Gutes Denken, aber: 2^7 = 128. Hier sind es 2^8 = 256."
                                }
                            ]
                        },
                        {
                            "id": "sub-prefix-2",
                            "type": "single-input",
                            "validator": "number",
                            "question": "Wie viele /64-Subnetze passen in ein /48?",
                            "answer": "65536",
                            "hint": "64 ‚àí 48 = 16 Bits. 2^16 = ?",
                            "success_message": "‚úÖ Korrekt! 2^16 = 65 536 /64-Subnetze in einem /48.",
                            "error_rules": [
                                {
                                    "type": "equals",
                                    "value": "16",
                                    "message": "16 sind die Subnetting-Bits, nicht die Anzahl. 2^16 = 65 536."
                                },
                                {
                                    "type": "equals",
                                    "value": "256",
                                    "message": "256 w√ºrde zu /56 passen. F√ºr /64 aus /48: 2^(64-48) = 2^16 = 65 536."
                                }
                            ]
                        },
                        {
                            "id": "sub-prefix-3",
                            "type": "single-input",
                            "validator": "prefix-len",
                            "question": "Du brauchst 512 Subnetze aus einem /48. Welche Pr√§fixl√§nge w√§hlst du?",
                            "answer": "57",
                            "hint": "512 = 2^9. 48 + 9 = /57.",
                            "error_rules": [
                                {
                                    "type": "equals",
                                    "value": "56",
                                    "message": "/56 gibt nur 256 = 2^8 Subnetze. Du brauchst 512 = 2^9 ‚Üí /57."
                                },
                                {
                                    "type": "equals",
                                    "value": "58",
                                    "message": "/58 gibt 1024 = 2^10 Subnetze ‚Äì genug, aber du verschwendest Adressraum. Exakt w√§re /57."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "prefix-slicer"
                    ]
                },
                {
                    "id": "nibble-boundaries",
                    "title": "Nibble-Grenzen (Sauberes Design)",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Da ein Hex-Zeichen 4 Bit repr√§sentiert, lassen sich Pr√§fixe auf **Nibble-Grenzen** (Vielfache von 4) am einfachsten ablesen und planen. Bevorzuge: /44, /48, /52, /56, /60, /64."
                        },
                        {
                            "type": "example",
                            "label": "Nibble-konform vs. nicht-konform",
                            "code": "‚úÖ  2001:db8:ab::/48  ‚Üí Grenze nach 'ab' (Nibble-exakt)\n‚ö†Ô∏è  2001:db8:ab::/50  ‚Üí Grenze mitten in 'ab' (schwer lesbar)"
                        },
                        {
                            "type": "hint",
                            "content": "Nicht-Nibble-Pr√§fixe sind **g√ºltig**, aber schwerer zu debuggen. In der Praxis fast immer Nibble-Grenzen verwenden."
                        }
                    ],
                    "tasks": [
                        {
                            "id": "sub-nibble-1",
                            "type": "multiple-choice",
                            "question": "Welche dieser Pr√§fixl√§ngen ist KEINE Nibble-Grenze?",
                            "success_message": "‚úÖ Richtig! /50 ist keine Nibble-Grenze (kein Vielfaches von 4).",
                            "options": [
                                {
                                    "id": "a",
                                    "text": "/48",
                                    "correct": false,
                                    "wrong_message": "48 = 4 √ó 12 ‚Üí Nibble-Grenze."
                                },
                                {
                                    "id": "b",
                                    "text": "/52",
                                    "correct": false,
                                    "wrong_message": "52 = 4 √ó 13 ‚Üí Nibble-Grenze."
                                },
                                {
                                    "id": "c",
                                    "text": "/50",
                                    "correct": true
                                },
                                {
                                    "id": "d",
                                    "text": "/64",
                                    "correct": false,
                                    "wrong_message": "64 = 4 √ó 16 ‚Üí Nibble-Grenze, und f√ºr SLAAC sogar erforderlich."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "prefix-visualizer",
                        "prefix-slicer"
                    ]
                },
                {
                    "id": "slaac",
                    "title": "SLAAC ‚Äì Stateless Configuration",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "**SLAAC** (Stateless Address Autoconfiguration) erlaubt Hosts, ihre IPv6-Adresse selbst zu konfigurieren ‚Äì ohne DHCP-Server. Voraussetzung: Das Subnetz-Pr√§fix im RA ist **genau /64**."
                        },
                        {
                            "type": "example",
                            "label": "SLAAC-Ablauf",
                            "code": "1. Router sendet RA mit Pr√§fix 2001:db8::/64\n2. Client generiert Interface-ID (EUI-64 oder Random)\n3. Client konfiguriert: 2001:db8::INTERFACE-ID/64\n4. Default-Route ‚Üí Link-Local des Routers (fe80::1)"
                        }
                    ],
                    "tasks": [
                        {
                            "id": "sub-slaac-1",
                            "type": "multiple-choice",
                            "question": "Welche Pr√§fixl√§nge MUSS ein RA ank√ºndigen, damit SLAAC funktioniert?",
                            "success_message": "‚úÖ Richtig! SLAAC ben√∂tigt exakt /64 (RFC 4862).",
                            "options": [
                                {
                                    "id": "a",
                                    "text": "/48",
                                    "correct": false,
                                    "wrong_message": "/48 ist zu gro√ü. SLAAC braucht genau /64."
                                },
                                {
                                    "id": "b",
                                    "text": "/64",
                                    "correct": true
                                },
                                {
                                    "id": "c",
                                    "text": "/128",
                                    "correct": false,
                                    "wrong_message": "/128 ist eine Host-Adresse. SLAAC braucht /64."
                                },
                                {
                                    "id": "d",
                                    "text": "Beliebige L√§nge",
                                    "correct": false,
                                    "wrong_message": "Nein ‚Äì RFC 4862 schreibt /64 f√ºr SLAAC vor."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "ra-demo"
                    ]
                }
            ]
        },
        {
            "id": "practice",
            "title": "Praxis & Planung",
            "icon": "üèóÔ∏è",
            "subchapters": [
                {
                    "id": "vlan-planning",
                    "title": "VLAN- & Standort-Planung",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "In der Praxis erh√§ltst du einen /48-Block vom ISP. Die Aufgabe: diesen Block **hierarchisch** auf Standorte, Geb√§ude und VLANs zu verteilen."
                        },
                        {
                            "type": "example",
                            "label": "Standardvorgehen",
                            "code": "ISP gibt:  2001:db8:abcd::/48\n\n  /56 pro Standort  ‚Üí 256 Standorte m√∂glich\n  /60 pro Geb√§ude   ‚Üí  16 Geb√§ude je Standort\n  /64 pro VLAN      ‚Üí  16 VLANs je Geb√§ude\n\nBeispiel Standort 1, Geb√§ude 2, VLAN 3:\n  2001:db8:abcd:0123::/64"
                        },
                        {
                            "type": "hint",
                            "content": "Plane **immer mit Reserve**: Wenn du heute 4 Standorte hast und morgen 10 brauchst, willst du nicht die Architektur neu entwerfen."
                        }
                    ],
                    "tasks": [
                        {
                            "id": "prac-plan-1",
                            "type": "single-input",
                            "validator": "prefix-len",
                            "question": "Du brauchst 16 Standorte aus /48. Welche Pr√§fixl√§nge pro Standort ist die kleinste sinnvolle Nibble-Grenze?",
                            "answer": "52",
                            "hint": "16 = 2^4 ‚Üí +4 Bits. 48 + 4 = /52 (Nibble-konform).",
                            "success_message": "‚úÖ Perfekt! /52 gibt 2^4 = 16 Standorte, exakt an der Nibble-Grenze.",
                            "error_rules": [
                                {
                                    "type": "equals",
                                    "value": "56",
                                    "message": "/56 gibt 256 Standorte ‚Äì mehr als n√∂tig. F√ºr genau 16: /52."
                                }
                            ]
                        },
                        {
                            "id": "prac-plan-2",
                            "type": "single-input",
                            "validator": "prefix-len",
                            "question": "Du bekommst /48 vom ISP. Die unterste Ebene soll VLAN-Subnetze mit SLAAC sein. Welche Pr√§fixl√§nge haben diese VLANs?",
                            "answer": "64",
                            "hint": "SLAAC erfordert exakt /64.",
                            "success_message": "‚úÖ Korrekt! VLANs sind immer /64 damit SLAAC funktioniert."
                        }
                    ],
                    "tools": [
                        "prefix-slicer",
                        "scenario-generator"
                    ]
                },
                {
                    "id": "scenario-practice",
                    "title": "Planungs√ºbungen (Szenario-Generator)",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Der Szenario-Generator erstellt zuf√§llige Planungsaufgaben f√ºr dich. Nutze den Prefix-Slicer daneben, um die Pr√§fixe auszurechnen."
                        },
                        {
                            "type": "hint",
                            "content": "**Vorgehen:** 1. Berechne Bits f√ºr Standorte (log‚ÇÇ aufrunden). 2. Berechne Bits f√ºr VLANs. 3. Pr√§fixl√§ngen = 48 + Standort-Bits und Standort-L√§nge + VLAN-Bits."
                        }
                    ],
                    "tasks": [],
                    "tools": [
                        "scenario-generator",
                        "prefix-slicer"
                    ]
                }
            ]
        },
        {
            "id": "troubleshooting",
            "title": "Fehlerbilder",
            "icon": "üîç",
            "subchapters": [
                {
                    "id": "ra-missing",
                    "title": "RA fehlt ‚Äì Simulation",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Router Advertisements (RA) sind der Mechanismus, √ºber den Clients ihre Default-Route und Pr√§fix-Informationen erhalten. **Fehlt das RA, hat der Client keine Route ‚Äì trotz Link-Local-Adresse.**"
                        },
                        {
                            "type": "hint",
                            "content": "Symptom: `ping6 google.com` schl√§gt fehl. `ip -6 addr` zeigt nur `fe80::`. Diagnose: `rdisc6 eth0` oder `tcpdump -i eth0 icmp6 and icmp6[0]=134`"
                        }
                    ],
                    "tasks": [
                        {
                            "id": "ts-ra-1",
                            "type": "multiple-choice",
                            "question": "Ein Host hat nur fe80::-Adresse und kein Default-Gateway. Was ist die wahrscheinlichste Ursache?",
                            "success_message": "‚úÖ Genau! RA fehlen ‚Üí kein Pr√§fix ‚Üí kein SLAAC ‚Üí kein Gateway.",
                            "options": [
                                {
                                    "id": "a",
                                    "text": "Der Host hat IPv6 deaktiviert.",
                                    "correct": false,
                                    "wrong_message": "W√§re IPv6 deaktiviert, g√§be es auch keine fe80-Adresse."
                                },
                                {
                                    "id": "b",
                                    "text": "Router Advertisements werden nicht empfangen (RA-Guard oder keine RAs).",
                                    "correct": true
                                },
                                {
                                    "id": "c",
                                    "text": "Die DNS-Server liefern keine AAAA-Records.",
                                    "correct": false,
                                    "wrong_message": "DNS-Probleme w√ºrden keine Auswirkung auf die Adresskonfiguration haben."
                                },
                                {
                                    "id": "d",
                                    "text": "ICMPv6 Typ 2 ist geblockt.",
                                    "correct": false,
                                    "wrong_message": "Typ 2 ist Packet-Too-Big (PMTUD). F√ºr RA ist Typ 134 relevant."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "ra-demo"
                    ]
                },
                {
                    "id": "error-library",
                    "title": "Fehlerbilder-Bibliothek",
                    "blocks": [
                        {
                            "type": "text",
                            "content": "Die h√§ufigsten IPv6-Fehler folgen immer dem gleichen Muster: **ICMPv6 blockiert**, **RA fehlt**, **falsches Pr√§fix**. Wer diese kennt, diagnostiziert in Minuten statt Stunden."
                        },
                        {
                            "type": "hint",
                            "content": "Nutze den **Quiz-Modus** im Tool rechts, um zu testen, ob du Symptome den richtigen Ursachen zuordnen kannst."
                        }
                    ],
                    "tasks": [
                        {
                            "id": "ts-fb-1",
                            "type": "multiple-choice",
                            "question": "Gro√üe Pakete kommen nicht an, kleine schon. Was ist die Ursache?",
                            "success_message": "‚úÖ PMTUD-Black-Hole! ICMPv6 Typ 2 ist geblockt.",
                            "options": [
                                {
                                    "id": "a",
                                    "text": "RA-Guard ist aktiviert",
                                    "correct": false,
                                    "wrong_message": "RA-Guard verhindert RA-Empfang ‚Äì kein Zusammenhang mit Paketgr√∂√üe."
                                },
                                {
                                    "id": "b",
                                    "text": "ICMPv6 Typ 2 (Packet Too Big) ist durch Firewall geblockt",
                                    "correct": true
                                },
                                {
                                    "id": "c",
                                    "text": "DNS hat keine AAAA-Records",
                                    "correct": false,
                                    "wrong_message": "DNS-Probleme betreffen die Namensaufl√∂sung, nicht die √úbertragungsgr√∂√üe."
                                },
                                {
                                    "id": "d",
                                    "text": "NDP-Cache ist veraltet",
                                    "correct": false,
                                    "wrong_message": "Ein veralteter NDP-Cache w√ºrde Verbindungen unterbrechen, nicht gr√∂√üenabh√§ngig filtern."
                                }
                            ]
                        },
                        {
                            "id": "ts-fb-2",
                            "type": "multiple-choice",
                            "question": "Ein Server hat t√§glich eine andere IPv6-Adresse. Zugriff per IP schl√§gt fehl. Ursache?",
                            "success_message": "‚úÖ Privacy Extensions! F√ºr Server immer deaktivieren.",
                            "options": [
                                {
                                    "id": "a",
                                    "text": "RA-Guard",
                                    "correct": false,
                                    "wrong_message": "RA-Guard w√ºrde alle Adressen blockieren, nicht nur t√§glich wechseln."
                                },
                                {
                                    "id": "b",
                                    "text": "Privacy Extensions (RFC 8981) generieren t√§glich neue Interface-IDs",
                                    "correct": true
                                },
                                {
                                    "id": "c",
                                    "text": "ICMPv6 ist geblockt",
                                    "correct": false,
                                    "wrong_message": "Blockiertes ICMPv6 w√ºrde Konnektivit√§t verhindern, nicht IP-Wechsel verursachen."
                                },
                                {
                                    "id": "d",
                                    "text": "ULA-Pr√§fix nicht geroutet",
                                    "correct": false,
                                    "wrong_message": "Routing-Probleme w√ºrden alle Verbindungen betreffen, nicht only die Adress-Stabilit√§t."
                                }
                            ]
                        }
                    ],
                    "tools": [
                        "fehlerbilder"
                    ]
                }
            ]
        }
    ]
}
